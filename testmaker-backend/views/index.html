<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample API</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <h1>My App API Documentation</h1>
    <br>

    <h2>Instructions for <code>/auth</code> Route</h2>
    <ul>
        <li>To login a user, send a <code>POST</code> request to the <code>/auth</code> route.</li>
        <ul>
            <li class="indented">The body of this request should contain a JSON object with the following properties:
                <code>{username, password}</code>
            </li>
        </ul>

        <li>To register a new user, send a <code>POST</code> request to the <code>/auth/register</code> route.</li>
        <ul>
            <li class="indented">The body of this request should contain a JSON object with the following properties:
                <code>{username, password, role, first_name, last_name, email, phone}</code>
            </li>
        </ul>

        <li>To refresh a user's access token, send a <code>GET</code> request to the <code>/auth/refresh</code> route.
        </li>

        <li>To logout a user, send a <code>GET</code> request to the <code>/auth/logout</code> route.</li>
    </ul>

    <br />

    <h2>Instructions for <code>/users</code> Routes</h2>

    <h3>GET /users</h3>
    <p>Fetches all users from the database.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: GET</li>
        <li>Endpoint: <code>/users</code></li>
    </ul>

    <h3>GET /users/:id</h3>
    <p>Fetches a user by their ID from the database.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: GET</li>
        <li>Endpoint: <code>/users/:id</code></li>
        <li>Parameters:
            <ul>
                <li><code>id</code> (required): The ID of the user to retrieve.</li>
            </ul>
        </li>
    </ul>

    <h3>POST /users</h3>
    <p>Creates a new user.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: POST</li>
        <li>Endpoint: <code>/users</code></li>
        <li>Request Body:
            <ul>
                <li><code>username</code> (required): The username of the new user.</li>
                <li><code>password</code> (required): The password of the new user.</li>
                <li><code>role</code> (required): The role of the new user.</li>
                <li><code>first_name</code> (required): The first name of the new user.</li>
                <li><code>last_name</code> (required): The last name of the new user.</li>
                <li><code>email</code> (optional): The email of the new user. If not provided, it will default to "N/A".
                </li>
                <li><code>phone</code> (optional): The phone number of the new user. If not provided, it will default to
                    "N/A".</li>
            </ul>
        </li>
    </ul>

    <h3>PATCH /users</h3>
    <p>Updates an existing user.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: PATCH</li>
        <li>Endpoint: <code>/users</code></li>
        <li>Request Body:
            <ul>
                <li><code>id</code> (required): The ID of the user to update.</li>
                <li><code>username</code> (required): The new username for the user.</li>
                <li><code>password</code> (optional): The new password for the user.</li>
                <li><code>role</code> (required): The new role for the user.</li>
                <li><code>first_name</code> (required): The new first name for the user.</li>
                <li><code>last_name</code> (required): The new last name for the user.</li>
                <li><code>email</code> (required): The new email for the user.</li>
                <li><code>phone</code> (required): The new phone number for the user.</li>
            </ul>
        </li>
    </ul>

    <h3>PATCH /users/:id</h3>
    <p>Updates a user's children.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: PATCH</li>
        <li>Endpoint: <code>/users/:id</code></li>
        <li>Parameters:
            <ul>
                <li><code>id</code> (required): The ID of the user to update.</li>
            </ul>
        </li>
        <li>Request Body:
            <ul>
                <li><code>children</code> (required): An array of children objects containing their names and ages.</li>
            </ul>
        </li>
    </ul>

    <h3>DELETE /users/:id</h3>
    <p>Deletes a user from the database.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: DELETE</li>
        <li>Endpoint: <code>/users/:id</code></li>
        <li>Parameters:
            <ul>
                <li><code>id</code> (required): The ID of the user to delete.</li>
            </ul>
        </li>
    </ul>

    <br />

    <h2>Instructions for <code>/students</code> Routes</h2>

    <h3>GET /students</h3>
    <p>Fetches all students from the database.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: GET</li>
        <li>Endpoint: <code>/students</code></li>
    </ul>

    <h3>GET /students/:id</h3>
    <p>Fetches a student by their ID from the database.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: GET</li>
        <li>Endpoint: <code>/students/:id</code></li>
        <li>Parameters:
            <ul>
                <li><code>id</code> (required): The ID of the student to retrieve.</li>
            </ul>
        </li>
    </ul>

    <h3>POST /students</h3>
    <p>Creates a new student.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: POST</li>
        <li>Endpoint: <code>/students</code></li>
        <li>Request Body:
            <ul>
                <li><code>first_name</code> (required): The first name of the new student.</li>
                <li><code>last_name</code> (required): The last name of the new student.</li>
                <li><code>parent_id</code> (required): The ID of the parent user.</li>
                <li><code>email</code> (required): The email of the new student.</li>
                <li><code>phone</code> (required): The phone number of the new student.</li>
            </ul>
        </li>
    </ul>

    <h3>PATCH /students</h3>
    <p>Updates an existing student.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: PATCH</li>
        <li>Endpoint: <code>/students</code></li>
        <li>Request Body:
            <ul>
                <li><code>id</code> (required): The ID of the student to update.</li>
                <li><code>first_name</code> (required): The new first name for the student.</li>
                <li><code>last_name</code> (required): The new last name for the student.</li>
                <li><code>parent_id</code> (required): The new ID of the parent user.</li>
                <li><code>email</code> (required): The new email for the student.</li>
                <li><code>phone</code> (required): The new phone number for the student.</li>
                <li><code>changed_classes_count</code> (required): The number of changed classes for the student.</li>
            </ul>
        </li>
    </ul>

    <h3>PATCH /students/:id</h3>
    <p>Updates a student's enrolled classes.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: PATCH</li>
        <li>Endpoint: <code>/students/:id</code></li>
        <li>Parameters:
            <ul>
                <li><code>id</code> (required): The ID of the student to update.</li>
            </ul>
        </li>
        <li>Request Body:
            <ul>
                <li><code>class_id</code> (required): The ID of the class to add or remove.</li>
                <li><code>action</code> (required): The action to perform, either "add" or "remove".</li>
            </ul>
        </li>
    </ul>

    <h3>DELETE /students</h3>
    <p>Deletes a student from the database.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: DELETE</li>
        <li>Endpoint: <code>/students</code></li>
        <li>Request Body:
            <ul>
                <li><code>id</code> (required): The ID of the student to delete.</li>
            </ul>
        </li>
    </ul>

    <br />

    <h2>Instructions for <code>/classes</code> Routes</h2>

    <h3>GET /classes</h3>
    <p>Fetches all classes from the database.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: GET</li>
        <li>Endpoint: <code>/classes</code></li>
    </ul>

    <h3>GET /classes/:id</h3>
    <p>Fetches a class by its ID from the database.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: GET</li>
        <li>Endpoint: <code>/classes/:id</code></li>
        <li>Parameters:
            <ul>
                <li><code>id</code> (required): The ID of the class to retrieve.</li>
            </ul>
        </li>
    </ul>

    <h3>POST /classes</h3>
    <p>Creates a new class.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: POST</li>
        <li>Endpoint: <code>/classes</code></li>
        <li>Request Body:
            <ul>
                <li><code>name</code> (required): The name of the new class.</li>
                <li><code>teacher</code> (required): The name of the teacher for the new class.</li>
                <li><code>timing</code> (required): The timing of the new class.</li>
            </ul>
        </li>
    </ul>

    <h3>PATCH /classes</h3>
    <p>Updates an existing class.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: PATCH</li>
        <li>Endpoint: <code>/classes</code></li>
        <li>Request Body:
            <ul>
                <li><code>id</code> (required): The ID of the class to update.</li>
                <li><code>name</code> (required): The new name for the class.</li>
                <li><code>teacher</code> (required): The new teacher for the class.</li>
                <li><code>timing</code> (required): The new timing for the class.</li>
            </ul>
        </li>
    </ul>

    <h3>PATCH /classes/:id</h3>
    <p>Updates a class's enrollments.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: PATCH</li>
        <li>Endpoint: <code>/classes/:id</code></li>
        <li>Parameters:
            <ul>
                <li><code>id</code> (required): The ID of the class to update.</li>
            </ul>
        </li>
        <li>Request Body:
            <ul>
                <li><code>studentId</code> (required): The ID of the student to add or remove.</li>
                <li><code>action</code> (required): The action to perform, either "add" or "remove".</li>
            </ul>
        </li>
    </ul>

    <h3>DELETE /classes</h3>
    <p>Deletes a class from the database.</p>
    <ul>
        <li>Access: Private</li>
        <li>Method: DELETE</li>
        <li>Endpoint: <code>/classes</code></li>
        <li>Request Body:
            <ul>
                <li><code>id</code> (required): The ID of the class to delete.</li>
            </ul>
        </li>
    </ul>

    <footer>
        <p>API Documentation - &copy; <span id="currentYear"></span> My App</p>
    </footer>

    <script>
        var currentYear = new Date().getFullYear();
        document.getElementById("currentYear").textContent = currentYear;
    </script>
</body>

</html>